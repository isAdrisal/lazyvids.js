<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>lazyvids.js</title>
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üê¢</text></svg>">
  <link rel="stylesheet" href="style.css">
  <link rel="modulepreload" href="lazyvids.js">
  <script type="module" src="main.mjs"></script>
  <script>
    window.lazyvidsConfig = {
      // ignoreHidden: true,
      // logLevel: 'all', // string: all, warn, silent
      // minBandwidth: 2.0, // number: mbps
      // reduceData: false, // boolean
      // requirePoster: true,
    };
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      let html = `
        <video class="" data-lazyvids="test" preload="metadata" muted loop disablePictureInPicture disableRemotePlayback x-webkit-airplay="deny"
          src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mp4"
          poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/flying_poster.jpg" width="1920" height="1080"
          title="Flight over mountainous terrain">
        </video>
        <video class="" data-lazyvids preload="metadata" muted loop disablePictureInPicture disableRemotePlayback x-webkit-airplay="deny"
          src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mp4"
          poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/flying_poster.jpg" width="1920" height="1080"
          title="Flight over mountainous terrain">
        </video>
        <video class="" data-lazyvids preload="metadata" muted loop disablePictureInPicture disableRemotePlayback x-webkit-airplay="deny"
          poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/flying_poster.jpg" width="1920" height="1080"
          title="Flight over mountainous terrain">
          <source src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mov" type="video/mov">
          <source src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mp4" type="video/mp4">
        </video>
      `
      const addVideos = () => {
        const lastVideo = document.querySelector('video:last-of-type');
        lastVideo.insertAdjacentHTML('afterend', html);
      }
      const button = document.querySelector('button');
      button.addEventListener('click', addVideos);
    });
  </script>
</head>

<body>
  <main>
    <h2>lazyvids.js</h2>
    <p>Used to lazy-load autoplay HTML5 videos.</p>
    <button>Add videos</button>
    <video class="" data-lazyvids muted loop disablePictureInPicture disableRemotePlayback x-webkit-airplay="deny"
      poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/flying_poster.jpg" width="1920" height="1080"
      title="Flight over mountainous terrain">
      <source src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mov?v=1" type="video/mov">
      <source src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mp4?v=1" type="video/mp4">
    </video>
    <video class="hide-desktop" data-lazyvids preload="metadata" muted loop disablePictureInPicture
      disableRemotePlayback x-webkit-airplay="deny"
      src="https://res.cloudinary.com/milkshake/video/upload/v1607420326/clouds.mp4?v=1"
      poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/clouds_poster.jpg" width="1440" height="1918"
      title="Timelapse of clouds over a building">
    </video>
    <video class="hide-mobile" data-lazyvids preload="metadata" muted loop disablePictureInPicture disableRemotePlayback
      x-webkit-airplay="deny" src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mp4?v=2"
      poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/flying_poster.jpg" width="1920" height="1080"
      title="Flight over mountainous terrain">
    </video>
    <video class="" data-lazyvids preload="metadata" muted loop disablePictureInPicture disableRemotePlayback
      x-webkit-airplay="deny" poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/flying_poster.jpg"
      width="1920" height="1080" title="Flight over mountainous terrain">
      <source src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mp4?v=3">
    </video>
    <video class="" data-lazyvids preload="metadata" muted loop disablePictureInPicture disableRemotePlayback
      x-webkit-airplay="deny" src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mp4?v=4"
      poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/flying_poster.jpg" width="1920" height="1080"
      title="Flight over mountainous terrain">
    </video>
    <div class="hidden">
      <video class="" data-lazyvids preload="metadata" muted loop disablePictureInPicture disableRemotePlayback
        x-webkit-airplay="deny" src="https://res.cloudinary.com/milkshake/video/upload/v1607414866/flying.mp4?v=5"
        poster="https://res.cloudinary.com/milkshake/image/upload/f_auto/flying_poster.jpg" width="1920" height="1080"
        title="Flight over mountainous terrain">
      </video>
    </div>
    <p class="credit">Videos from Pexels</p>
  </main>
</body>

</html>